"use strict";const e=require("../common/vendor.js"),a=require("../utils/useSafeArea.js"),t=require("../utils/navigation.js"),o={__name:"AppNavBar",props:{title:{type:String,default:""},showBack:{type:Boolean,default:!1},withSafeTop:{type:Boolean,default:!0},background:{type:String,default:"#ffffff"},backToIndex:{type:Boolean,default:!0}},emits:["back"],setup(o,{emit:n}){const i=o,d=n,{safeTop:c}=a.useSafeArea(),s=e.computed((()=>({paddingTop:(i.withSafeTop?Math.max(0,c.value||0):0)+"px",background:i.background})));function u(){d("back"),i.backToIndex?t.navigateToHome():e.index.navigateBack({delta:1,fail:a=>{console.log("navigateBack 失败，尝试返回首页:",a),e.index.switchTab({url:"/pages/index/index",fail:()=>{e.index.reLaunch({url:"/pages/index/index"})}})}})}return(a,t)=>e.e({a:o.showBack},o.showBack?{b:e.o(u)}:{},{c:e.t(o.title),d:e.s(s.value)})}},n=e._export_sfc(o,[["__scopeId","data-v-41de7413"]]);wx.createComponent(n);
