<view class="page data-v-f179e625" style="{{ap}}" bindtouchstart="{{aq}}" bindtouchmove="{{ar}}" bindtouchend="{{as}}" bindtouchcancel="{{at}}"><app-nav-bar wx:if="{{a}}" class="data-v-f179e625" u-i="f179e625-0" bind:__l="__l" u-p="{{a}}"/><view class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center;gap:12rpx;flex-wrap:wrap"><text class="title data-v-f179e625">玩家总览</text><view class="row data-v-f179e625" style="display:flex;align-items:center;gap:12rpx"><view class="seg data-v-f179e625"><button class="{{['seg-btn', 'data-v-f179e625', b && 'active']}}" bindtap="{{c}}">今天</button><button class="{{['seg-btn', 'data-v-f179e625', d && 'active']}}" bindtap="{{e}}">3天</button><button class="{{['seg-btn', 'data-v-f179e625', f && 'active']}}" bindtap="{{g}}">7天</button><button class="{{['seg-btn', 'data-v-f179e625', h && 'active']}}" bindtap="{{i}}">30天</button><button class="{{['seg-btn', 'data-v-f179e625', j && 'active']}}" bindtap="{{k}}">全部</button></view></view></view><view class="table data-v-f179e625"><view class="thead data-v-f179e625"><text class="th rank data-v-f179e625">#</text><text bindtap="{{l}}" class="{{['th', 'user', 'data-v-f179e625', m && 'active']}}">用户</text><text bindtap="{{n}}" class="{{['th', 'data-v-f179e625', o && 'active']}}">总局数</text><text bindtap="{{p}}" class="{{['th', 'ok', 'data-v-f179e625', q && 'active']}}">成 <text class="data-v-f179e625">/ <text class="th fail data-v-f179e625">败 </text></text></text><text bindtap="{{r}}" class="{{['th', 'data-v-f179e625', s && 'active']}}">🎯胜率</text><text bindtap="{{t}}" class="{{['th', 'data-v-f179e625', v && 'active']}}">平均</text><text bindtap="{{w}}" class="{{['th', 'data-v-f179e625', x && 'active']}}">🏆最佳</text></view><view class="tbody data-v-f179e625"><view wx:for="{{y}}" wx:for-item="row" wx:key="i" class="tr data-v-f179e625" bindtap="{{row.j}}"><text class="td rank data-v-f179e625">{{row.a}}</text><text class="td user data-v-f179e625">{{row.b}}</text><text class="td data-v-f179e625">{{row.c}}</text><text class="td ok data-v-f179e625">{{row.d}} <text class="data-v-f179e625">/ <text class="td fail data-v-f179e625">{{row.e}}</text></text></text><text class="td data-v-f179e625">{{row.f}}%</text><text class="td data-v-f179e625">{{row.g}}</text><text class="td data-v-f179e625">{{row.h}}</text></view></view></view></view><view wx:if="{{z}}" class="section title data-v-f179e625"><view class="user-picker data-v-f179e625" style="display:flex;align-items:center;gap:8rpx"><picker class="data-v-f179e625" range="{{B}}" range-key="name" bindchange="{{C}}"><view class="picker-trigger data-v-f179e625">{{A}}</view></picker></view></view><view wx:if="{{D}}" class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center;gap:12rpx;flex-wrap:wrap"><text class="title data-v-f179e625">📈个人趋势</text></view><view class="trend-chart data-v-f179e625" style="margin-top:12rpx"><view class="trend-chart-inner data-v-f179e625" style="{{'width:' + I + ';' + ('height:' + J)}}"><view class="trend-bars data-v-f179e625" style="{{'gap:' + G + ';' + ('width:' + H)}}"><view wx:for="{{E}}" wx:for-item="d" wx:key="d" class="trend-item data-v-f179e625" style="{{'width:' + F}}"><view class="bar data-v-f179e625" style="{{'height:' + d.c}}"><view class="bar-fail data-v-f179e625" style="{{'height:' + d.a}}"></view><view class="bar-success data-v-f179e625" style="{{'height:' + d.b}}"></view></view></view></view></view><view class="{{['trend-labels', 'data-v-f179e625', M && 'rotate']}}" style="{{'gap:' + N + ';' + ('width:' + O)}}"><text wx:for="{{K}}" wx:for-item="d" wx:key="b" class="bar-label data-v-f179e625" style="{{'width:' + L}}">{{d.a}}</text></view></view><view class="trend-legend data-v-f179e625" style="margin-top:8rpx;color:#6b7280;font-size:24rpx">绿色=胜利局数，红色=失败局数</view><view class="table data-v-f179e625" style="margin-top:12rpx"><view class="thead data-v-f179e625" style="{{'display:' + 'grid' + ';' + ('grid-template-columns:' + 'repeat(4, 1fr)')}}"><text class="th data-v-f179e625">当前连胜</text><text class="th data-v-f179e625">最长连胜</text><text class="th data-v-f179e625">当前连败</text><text class="th data-v-f179e625">最长连败</text></view><view class="tbody data-v-f179e625"><view class="tr data-v-f179e625" style="{{'display:' + 'grid' + ';' + ('grid-template-columns:' + 'repeat(4, 1fr)')}}"><text class="td ok data-v-f179e625">{{P}}</text><text class="td ok data-v-f179e625">{{Q}}</text><text class="td fail data-v-f179e625">{{R}}</text><text class="td fail data-v-f179e625">{{S}}</text></view></view></view></view><view wx:if="{{T}}" class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center"><text class="title data-v-f179e625">最近战绩</text></view><view wx:if="{{U}}" class="rounds data-v-f179e625"><view class="rounds-head data-v-f179e625"><text class="data-v-f179e625">时间</text><text class="data-v-f179e625">结果</text><text class="data-v-f179e625">用时</text><text class="data-v-f179e625">牌面</text></view><view wx:for="{{V}}" wx:for-item="r" wx:key="g" class="round-item data-v-f179e625"><text class="r-time data-v-f179e625">{{r.a}}</text><text class="{{['r-result', 'data-v-f179e625', r.c && 'ok', r.d && 'fail']}}">{{r.b}}</text><text class="r-timeMs data-v-f179e625">{{r.e}}</text><text class="r-cards data-v-f179e625">{{r.f}}</text></view></view><view wx:else class="empty-tip data-v-f179e625">暂无最近战绩</view></view><view wx:if="{{W}}" class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center;gap:12rpx;flex-wrap:wrap"><text class="title data-v-f179e625">📝错题本</text><text class="mistake-tip data-v-f179e625">连续正确 5 次将自动移出活动错题本（但仍计入总错题统计）</text></view><view class="mistake-summary data-v-f179e625"><view class="mistake-summary-item data-v-f179e625"><text class="mistake-summary-label data-v-f179e625">错题总数</text><text class="mistake-summary-value data-v-f179e625">{{X}}</text></view><view class="mistake-summary-item data-v-f179e625"><text class="mistake-summary-label data-v-f179e625">遗留错题</text><text class="mistake-summary-value data-v-f179e625">{{Y}}</text></view></view><view class="mistake-controls data-v-f179e625"><label class="mistake-filter data-v-f179e625"><switch class="data-v-f179e625" checked="{{Z}}" bindchange="{{aa}}" color="#145751"/><text class="data-v-f179e625">仅看活动</text></label></view><view wx:if="{{ab}}" class="table mistake-table data-v-f179e625"><view class="mistake-grid mistake-head data-v-f179e625"><text class="mistake-th key data-v-f179e625">题目 key</text><text class="mistake-th data-v-f179e625">尝试</text><text class="mistake-th data-v-f179e625">错误</text><text class="mistake-th data-v-f179e625">正确</text><text class="mistake-th data-v-f179e625">是否活动</text></view><view class="mistake-body data-v-f179e625"><view wx:for="{{ac}}" wx:for-item="row" wx:key="h" class="mistake-grid mistake-row data-v-f179e625"><text class="mistake-cell key data-v-f179e625" bindtap="{{row.b}}">{{row.a}}</text><text class="mistake-cell data-v-f179e625">{{row.c}}</text><text class="mistake-cell fail data-v-f179e625">{{row.d}}</text><text class="mistake-cell ok data-v-f179e625">{{row.e}}</text><text class="{{['mistake-cell', 'data-v-f179e625', row.g && 'ok']}}">{{row.f}}</text></view></view></view><view wx:else class="mistake-empty data-v-f179e625">{{ad}}</view></view><view wx:if="{{ae}}" class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center"><text class="title data-v-f179e625">称号</text></view><view class="data-v-f179e625" style="display:flex;flex-wrap:wrap;gap:8rpx;margin-top:8rpx"><text wx:for="{{af}}" wx:for-item="b" wx:key="b" class="data-v-f179e625" style="padding:6rpx 12rpx;background:#f1f5f9;border-radius:20rpx;font-size:26rpx">{{b.a}}</text></view></view><view wx:if="{{ag}}" class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center"><text class="title data-v-f179e625">速度-准确概览</text></view><view class="table data-v-f179e625"><view class="thead data-v-f179e625" style="{{'display:' + 'grid' + ';' + ('grid-template-columns:' + '1.5fr repeat(5, 1fr)')}}"><text class="th data-v-f179e625">时间段</text><text class="th data-v-f179e625">总数</text><text class="th data-v-f179e625">成功</text><text class="th data-v-f179e625">失败</text><text class="th data-v-f179e625">成功率</text><text class="th data-v-f179e625">平均用时</text></view><view class="tbody data-v-f179e625"><view wx:for="{{ah}}" wx:for-item="b" wx:key="h" class="tr data-v-f179e625" style="{{'display:' + 'grid' + ';' + ('grid-template-columns:' + '1.5fr repeat(5, 1fr)')}}"><text class="td data-v-f179e625">{{b.a}}</text><text class="td data-v-f179e625">{{b.b}}</text><text class="td ok data-v-f179e625">{{b.c}}</text><text class="td fail data-v-f179e625">{{b.d}}</text><view class="td data-v-f179e625" style="padding:0 8rpx"><mini-bar wx:if="{{b.f}}" class="data-v-f179e625" u-i="{{b.e}}" bind:__l="__l" u-p="{{b.f}}"/></view><text class="td data-v-f179e625">{{b.g}}</text></view></view></view></view><view wx:if="{{ai}}" class="section data-v-f179e625"><view class="row data-v-f179e625" style="justify-content:space-between;align-items:center"><text class="title data-v-f179e625">技能雷达（表格版）</text></view><view class="table data-v-f179e625"><view class="thead data-v-f179e625" style="{{'display:' + 'grid' + ';' + ('grid-template-columns:' + '1fr 1fr 1fr')}}"><text class="th data-v-f179e625">技能</text><text class="th data-v-f179e625">使用占比</text><text class="th data-v-f179e625">胜率</text></view><view class="tbody data-v-f179e625"><view wx:for="{{aj}}" wx:for-item="r" wx:key="d" class="tr data-v-f179e625" style="{{'display:' + 'grid' + ';' + ('grid-template-columns:' + '1fr 1fr 1fr')}}"><text class="td data-v-f179e625">{{r.a}}</text><text class="td data-v-f179e625">{{r.b}}%</text><text class="td data-v-f179e625">{{r.c}}%</text></view></view></view></view><view wx:if="{{ak}}" class="{{['floating-hint-layer', 'data-v-f179e625', an && 'interactive']}}" bindtap="{{ao}}"><view class="floating-hint data-v-f179e625" catchtap="{{am}}">{{al}}</view></view></view>