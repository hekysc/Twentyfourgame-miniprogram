"use strict";const r=require("../utils/calc.js"),e=require("../utils/solver.js");exports.drawSolvableHand=function(t,n,o=e.solve24){const s=Array.isArray(t)?t.slice():[];if(s.length<4)return{ok:!1,err:"DECK_INSUFFICIENT"};const a=Math.min(200,1+s.length*s.length);for(let e=0;e<a;e++){const e=new Set;for(;e.size<4;)e.add(Math.floor(Math.random()*s.length));const t=Array.from(e),a=o(t.map((r=>s[r])).map((e=>r.mapCardRank(e.rank,n))));if(a){const r=s.slice();t.sort(((r,e)=>e-r));const e=[];for(const n of t)e.unshift(r[n]),r.splice(n,1);return{ok:!0,data:{cards:e,deck:r,solution:a}}}}return{ok:!1,err:"NO_SOLVABLE"}},exports.newDeck=function(){return r.createShuffledDeck()};
