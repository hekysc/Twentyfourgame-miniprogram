"use strict";const e=require("../common/vendor.js");exports.rpxToPx=function(i){if(!Number.isFinite(i))return 0;try{if(void 0!==e.index&&"function"==typeof e.index.upx2px){const t=e.index.upx2px(i);if(Number.isFinite(t))return t}}catch(t){}return.5*i},exports.useSafeArea=function(){const i=e.ref(0),t=e.ref(0),n=e.ref(0);let o=null;function s(e){if(!e||"object"!=typeof e)return;const o=function(e){const i=Number.isFinite(null==e?void 0:e.statusBarHeight)?e.statusBarHeight:0,t=(null==e?void 0:e.safeAreaInsets)||(null==e?void 0:e.safeArea)||{};return{safeTop:(Number.isFinite(null==t?void 0:t.top)?t.top:0)||i||0,safeBottom:(Number.isFinite(null==t?void 0:t.bottom)?t.bottom:0)||0,windowHeight:Number.isFinite(null==e?void 0:e.windowHeight)?e.windowHeight:Number.isFinite(null==e?void 0:e.screenHeight)?e.screenHeight:0}}(e);Number.isFinite(o.safeTop)&&(i.value=o.safeTop),Number.isFinite(o.safeBottom)&&(t.value=o.safeBottom),Number.isFinite(o.windowHeight)&&(n.value=o.windowHeight)}function u(){try{if(void 0!==e.index&&"function"==typeof e.index.getSystemInfo)return void e.index.getSystemInfo({success:s});if(void 0!==e.index&&"function"==typeof e.index.getSystemInfoSync){s(e.index.getSystemInfoSync())}}catch(i){}}return e.onMounted((()=>{u();try{if(void 0!==e.index&&"function"==typeof e.index.onWindowResize){const i=e=>{e&&e.size?s(e.size):u()};e.index.onWindowResize(i),o=()=>{try{e.index.offWindowResize(i)}catch(t){}}}}catch(i){o=null}})),e.onUnmounted((()=>{if("function"==typeof o){try{o()}catch(e){}o=null}})),{safeTop:i,safeBottom:t,windowHeight:n,refreshSafeArea:u}};
